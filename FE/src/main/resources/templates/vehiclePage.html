<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xe điện - EV Second</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
            href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
            rel="stylesheet"
    />

    <!-- Font Awesome Icons -->
    <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
            integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
    />

    <!-- Custom CSS -->
    <link rel="stylesheet" th:href="@{/css/vehiclePage.css}" />
</head>
<body>
<!-- =============================
     HEADER SECTION
     ============================= -->
<header th:if="${guest.equals('false')}" th:include="/commonComponents/header.html"></header>
<header th:if="${guest.equals('true')}" th:include="/commonComponents/guestHeader.html"></header>

<!-- =============================
     SEARCH SECTION
     ============================= -->
<section class="search">
    <div class="search__container">
        <div class="search__form">
            <!-- Category Dropdown -->
            <div class="custom-dropdown">
                <div class="dropdown-selected" id="categoryDropdown">
                    <span class="selected-text">Danh mục</span>
                    <i class="fas fa-chevron-down dropdown-arrow"></i>
                </div>
                <div class="dropdown-options" id="categoryOptions">
                    <div class="dropdown-option" data-value="all">Danh mục</div>
                    <div class="dropdown-option" data-value="motorbike">
                        Xe máy điện
                    </div>
                    <div class="dropdown-option" data-value="bicycle">
                        Xe đạp điện
                    </div>
                </div>
            </div>

            <!-- Search Input -->
            <div class="search__input">
                <button class="search__btn">
                    <i class="fas fa-search"></i>
                </button>
                <input type="text" placeholder="Tìm sản phẩm..." />
            </div>

            <!-- Location Dropdown -->
            <div class="location-dropdown">
                <div class="dropdown-selected" id="locationDropdown">
                    <i class="fas fa-map-marker-alt"></i>
                    <span class="selected-text">Tp Hồ Chí Minh</span>
                    <i class="fas fa-chevron-down dropdown-arrow"></i>
                </div>
                <div class="dropdown-options" id="locationOptions">
                    <div class="dropdown-option" data-value="hcm">Tp Hồ Chí Minh</div>
                    <div class="dropdown-option" data-value="hanoi">Hà Nội</div>
                    <div class="dropdown-option" data-value="danang">Đà Nẵng</div>
                    <div class="dropdown-option" data-value="haiphong">Hải Phòng</div>
                    <div class="dropdown-option" data-value="cantho">Cần Thơ</div>
                    <div class="dropdown-option" data-value="vungtau">Vũng Tàu</div>
                    <div class="dropdown-option" data-value="nhatrang">Nha Trang</div>
                    <div class="dropdown-option" data-value="hue">Huế</div>
                    <div class="dropdown-option" data-value="dalat">Đà Lạt</div>
                    <div class="dropdown-option" data-value="quangninh">
                        Quảng Ninh
                    </div>
                </div>
            </div>

            <!-- Search Button -->
            <button class="search__post-btn">Tìm kiếm</button>
        </div>
    </div>
</section>

<!-- =============================
     VEHICLE LIST SECTION
     ============================= -->
<section class="vehicle">
    <h2 class="vehicle__title">DANH SÁCH PHƯƠNG TIỆN</h2>
    <div class="vehicle__container">
        <!-- Vehicle Item 1 -->
        <div th:each="post :${posts}" class="vehicle__item">
            <div class="vehicle__item__image">
                <img
                        th:src="${post.getImages()[0]}"
                        alt="IMPES Scooter"
                />
            </div>
            <div class="vehicle__item__details">
                <h3 th:text="${post.getTitle()}" class="vehicle__item__details__title">
                    IMPES CÓ SẮC PIN ĐẦY ĐỦ
                </h3>
                <p class="vehicle__item__details__date" th:text="${post.getProduct().getVehicle().getMileage()*1.6(Double)}" >2023 - 30000km</p>
                <p class="vehicle__item__details__price" th:text="${post.getPrice()}">8.500.000 đ</p>
                <div class="vehicle__item__details__location">
                    <i class="fas fa-map-marker-alt"></i> <span th:text="${post.getSeller().getCity()}">Tp Hồ Chí Minh</span>
                </div>
                <div class="vehicle__item__details__seller">
                    <img
                            th:src="${post.getSeller().getAvatarUrl()}"
                            alt="Seller Image"
                    />
                    <p class="vehicle__item__details__seller__name" th:text="${post.getSeller().getUsername()}">Nguyễn Thế Anh</p>
                    <p class="vehicle__item__details__seller__rating">
                        <span th:text="${post.getAverageRating()}" >5</span> <i class="fas fa-star"></i>
                    </p>
                </div>
            </div>
            <div class="vehicle__item__actions">
                <a href="#" class="vehicle__item__actions__buy"
                ><i class="fa-solid fa-plus"></i> Yêu cầu giao dịch</a
                >
                <a th:href="@{'/home/wishList/add/' + ${post.getPostsId()}}" th:if="${guest.equals('false')}" class="vehicle__item__actions__heart">
                    <i class="far fa-heart"></i>
                </a>
            </div>
        </div>

    </div>
    <div class="vehicle__page">
        <a href="#">&laquo;</a>
        <a href="#" class="active">1</a>
        <a href="#">2</a>
        <a href="#">3</a>
        <a href="#">4</a>
        <a href="#">5</a>
        <a href="#">&raquo;</a>
    </div>
</section>
<!-- =============================
     FOOTER SECTION
     ============================= -->
<footer th:include="/commonComponents/footer.html"></footer>

<!-- =============================
     JAVASCRIPT
     ============================= -->
<script th:src="@{/js/commonComponents/searchBar.js}"></script>
</body>
</html>